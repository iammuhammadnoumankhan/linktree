<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Linktree</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="/linktree/manifest.json">
    <meta name="theme-color" content="#ef4444">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        :root {
        --red: #ef4444;
        --red-dark: #dc2626;
        --bg: #0a0a0a;
        --glass: rgba(31, 41, 55, 0.35);
        --blur: blur(12px);
        }

        * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        }

        body {
        font-family: 'Inter', sans-serif;
        background: radial-gradient(ellipse at bottom, #1a1a1a 0%, var(--bg) 70%);
        color: #fff;
        min-height: 100vh;
        overflow-x: hidden;
        }

        /* ---------- Cinematic Entrance ---------- */
        @keyframes blur-up {
        from {
            opacity: 0;
            filter: blur(12px);
            transform: translateY(40px) scale(0.95);
        }
        to {
            opacity: 1;
            filter: blur(0);
            transform: translateY(0) scale(1);
        }
        }
        .animate-blur-up {
        animation: blur-up 0.9s cubic-bezier(.25,.46,.45,.94) forwards;
        }

        /* ---------- Magnetic Cursor ---------- */
        .magnetic {
        transition: transform 0.15s ease;
        }
        .magnetic:hover {
        transform: scale(1.04);
        }

        /* ---------- Ripple Click ---------- */
        .ripple {
        position: absolute;
        border-radius: 50%;
        transform: scale(0);
        background: rgba(255, 255, 255, 0.4);
        animation: ripple 0.6s linear;
        pointer-events: none;
        }
        @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
        }

        /* ---------- Neon Glow ---------- */
        .glow-effect {
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
        transition: box-shadow 0.3s ease, transform 0.3s ease;
        }
        .glow-effect:hover {
        box-shadow: 0 0 40px rgba(239, 68, 68, 0.6);
        transform: translateY(-3px);
        }

        /* ---------- Glassmorphism ---------- */
        .link-item {
        background: var(--glass);
        backdrop-filter: var(--blur);
        border: 1px solid rgba(239, 68, 68, 0.2);
        transition: background 0.3s, border 0.3s, transform 0.3s;
        position: relative;
        overflow: hidden;
        }
        .link-item:hover {
        background: rgba(55, 65, 81, 0.6);
        border-color: rgba(239, 68, 68, 0.5);
        }

        /* ---------- Live Clock ---------- */
        #live-clock {
        letter-spacing: 0.05em;
        font-variant-numeric: tabular-nums;
        }

        /* 🌌 PARALLAX CONSTELLATION */
        .constellation-layer {
        position:fixed;
        top:0; left:0; width:100%; height:100%;
        pointer-events:none; z-index:-1;
        transform-style:preserve-3d;
        }
        .layer-1{transform:translateZ(-2px) scale(1.2);}
        .layer-2{transform:translateZ(-1px) scale(1.1);}
        .layer-3{transform:translateZ(0)   scale(1);}

        #profileImg {
        transform-style: preserve-3d;
        transition: transform 0.18s ease, box-shadow 0.18s ease;
        will-change: transform;
        cursor: pointer;
        }

        #profileImg.tilted {
        box-shadow: 0 20px 40px rgba(0,0,0,0.6);
        }

        .island {
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 16px;
        padding: 14px;
        margin: 18px 0;
        box-shadow: 0 10px 30px rgba(3,7,18,0.6);
        transition: transform .25s ease, box-shadow .25s ease;
        backdrop-filter: blur(8px) saturate(120%);
        }
        .island:hover { transform: translateY(-6px); box-shadow: 0 18px 48px rgba(0,0,0,0.65); }
        .island .section-title { display:flex; align-items:center; justify-content:center; gap:8px; }

        
    </style>
</head>
<body class="text-white">
    <!-- Background Animation -->
    <!-- <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-red-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-red-600 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"></div>
    </div> -->

    <div class="constellation-layer layer-1"></div>
    <div class="constellation-layer layer-2"></div>
    <div class="constellation-layer layer-3"></div>

    <!-- 🌗 Theme Toggle -->
    <button id="themeToggle"
            title="Toggle dark/light"
            class="fixed top-4 right-4 z-50 p-2 bg-black/20 hover:bg-black/40 backdrop-blur-sm rounded-full transition">
    <i id="themeIcon" class="fas fa-moon text-lg"></i>
    </button>
    <!-- Main Container -->
    <div class="relative z-10 container mx-auto px-4 py-8 max-w-2xl">
        <!-- Profile Section -->
        <div class="text-center mb-8">
            <div class="profile-image mx-auto mb-4">
                <!-- <img src="profile.jpeg" alt="Profile" class="w-32 h-32 rounded-full mx-auto border-4 border-red-500 object-cover glow-effect"> -->
                <img id="profileImg" src="profile.jpeg" alt="Profile" class="w-32 h-32 rounded-full mx-auto border-4 border-red-500 object-cover glow-effect">
            </div>
            <h1 class="text-3xl font-bold mb-2">MUHAMMAD NOUMAN KHAN</h1>
            <p class="text-gray-300 text-lg">AI & MLOps Engineer & Researcher | IEEE-Published</p>
            <p class="text-gray-400 mt-2">Exploring LLMs, Agents & Generative AI | BSc AI @ PAF-IAST</p>
        </div>

        <!-- Essentials Section -->
        <div class="island mb-8">
            <h2 class="text-xl font-semibold mb-4 text-center section-title">
                <i class="fas fa-star mr-2"></i>Essentials
            </h2>
            <div class="space-y-3">
                <a href="https://www.linkedin.com/in/muhammad-nouman-khan-248530233/" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-linkedin text-blue-400 text-xl w-8"></i>
                    <span class="ml-3 font-medium">LinkedIn</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
                
                <a href="https://github.com/iammuhammadnoumankhan" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-github text-white text-xl w-8"></i>
                    <span class="ml-3 font-medium">GitHub</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
                
                <a href="https://www.youtube.com/@NoumanKhanonAI" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-youtube text-red-500 text-xl w-8"></i>
                    <span class="ml-3 font-medium">YouTube Channel</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
            </div>
        </div>

        <!-- Social Media Section -->
        <div class="island mb-8">
            <h2 class="text-xl font-semibold mb-4 text-center section-title">
                <i class="fas fa-users mr-2"></i>Social Media & Community
            </h2>
            <div class="space-y-3">
                <a href="https://x.com/iammnoumankhan" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-twitter text-white text-xl w-8"></i>
                    <span class="ml-3 font-medium">Twitter (X)</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>

                
                <a href="https://www.instagram.com/iammuhammadnoumankhan" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-instagram text-pink-500 text-xl w-8"></i>
                    <span class="ml-3 font-medium">Instagram</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
                
                <a href="https://www.facebook.com/muhammad.nouman.khan.744510" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-facebook text-blue-500 text-xl w-8"></i>
                    <span class="ml-3 font-medium">Facebook Page</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
                
                <a href="https://discord.gg/BsUEbXqP" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-discord text-indigo-400 text-xl w-8"></i>
                    <span class="ml-3 font-medium">Discord Community</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
            </div>
        </div>

        <!-- Content & Work Section -->
        <div class="island mb-8">
            <h2 class="text-xl font-semibold mb-4 text-center section-title">
                <i class="fas fa-pen-nib mr-2"></i>Content & Work
            </h2>
            <div class="space-y-3">
                <a href="https://medium.com/@iammuhammadnoumankhan" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-medium text-white text-xl w-8"></i>
                    <span class="ml-3 font-medium">Medium Blog</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
                
                <!-- <a href="https://researchgate.net/profile/yourprofile" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fab fa-researchgate text-blue-400 text-xl w-8"></i>
                    <span class="ml-3 font-medium">ResearchGate</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a> -->
                
                <a href="https://scholar.google.com/citations?hl=en&user=zjB32vkAAAAJ" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fas fa-graduation-cap text-blue-300 text-xl w-8"></i>
                    <span class="ml-3 font-medium">Google Scholar</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
            </div>
        </div>

        <!-- Github Pulses -->
        <section class="island mb-8">
            <h2 class="text-xl font-semibold mb-4 text-center section-title">
                <i class="fab fa-github mr-2"></i>GitHub Pulse
            </h2>
            <div id="gh-card"
                class="link-item p-4 rounded-lg flex items-center gap-4">
                <img id="gh-avatar" class="w-12 h-12 rounded-full" src="" alt="">
                <div>
                <div id="gh-name" class="font-bold"></div>
                <div id="gh-followers" class="text-sm text-gray-300"></div>
                <div id="gh-stars" class="text-sm text-gray-300"></div>
                </div>
                <img id="gh-chart" class="h-10 ml-auto" src="" alt="">
            </div>
        </section>

        <!-- Extras Section -->
        <div class="island mb-8">
            <h2 class="text-xl font-semibold mb-4 text-center section-title">
                <i class="fas fa-gift mr-2"></i>Connect & Support
            </h2>
            <div class="space-y-3">
                <a href="https://calendly.com/noumankhanonai" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fas fa-calendar text-blue-400 text-xl w-8"></i>
                    <span class="ml-3 font-medium">Book a Meeting</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a>
                
                <a href="mailto:noumankhanonai@gmail.com" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fas fa-envelope text-green-400 text-xl w-8"></i>
                    <span class="ml-3 font-medium">noumankhanonai@gmail.com</span>
                    <i class="fas fa-copy ml-auto text-gray-400 text-sm hover:text-white cursor-pointer" onclick="copyEmail()"></i>
                </a>

                <a href="#!" id="vcardBtn"
                    class="link-item flex items-center p-4 rounded-lg">
                    <i class="fas fa-id-card text-cyan-400 text-xl w-8"></i>
                    <span class="ml-3 font-medium">Save my contact</span>
                    <i class="fas fa-qrcode ml-auto text-gray-400 text-sm"></i>
                </a>

                <!-- Modal -->
                <div id="qrModal"
                    class="fixed inset-0 bg-black/70 backdrop-blur hidden items-center justify-center z-50">
                <div class="relative w-72 h-72">
                    <canvas id="qrCanvas" class="w-full h-full rounded-xl shadow-2xl"></canvas>
                    <button onclick="qrModal.classList.add('hidden')"
                            class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-8 h-8">
                    <i class="fas fa-times"></i>
                    </button>
                </div>
                </div>
                
                <!-- <a href="https://buymeacoffee.com/yourhandle" target="_blank" class="link-item flex items-center p-4 rounded-lg">
                    <i class="fas fa-coffee text-yellow-400 text-xl w-8"></i>
                    <span class="ml-3 font-medium">Buy Me a Coffee</span>
                    <i class="fas fa-external-link-alt ml-auto text-gray-400 text-sm"></i>
                </a> -->
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-12 pb-8">
            <p class="text-gray-400 text-sm">
                Made with <i class="fas fa-heart text-red-500"></i> by Muhammad Nouman Khan
            </p>
            <p class="text-gray-500 text-xs mt-2">
                &copy; 2025 All rights reserved
            </p>
        </div>
    </div>

    <script>
        /* ==== Utilities ==== */
        const $ = (sel) => document.querySelector(sel);
        const $$ = (sel) => [...document.querySelectorAll(sel)];

        /* ==== Cinematic Entrance ==== */
        $$('.link-item, .section-title, .profile-image').forEach((el, i) => {
        el.style.animationDelay = `${i * 0.08}s`;
        el.classList.add('animate-blur-up');
        });

        /* ==== 3-D Tilt Cards ==== */
        VanillaTilt.init($$('.link-item'), {
        max: 7,          // max tilt in degrees
        speed: 400,      // transition speed
        glare: true,     // glare effect
        'max-glare': .15
        });

        /* ==== Magnetic Hover ==== */
        $$('.link-item').forEach((el) => {
        el.addEventListener('mousemove', (e) => {
            const { left, top, width, height } = el.getBoundingClientRect();
            const x = (e.clientX - left - width / 2) / 15;
            const y = (e.clientY - top - height / 2) / 15;
            el.style.transform = `translate(${x}px, ${y}px)`;
        });
        el.addEventListener('mouseleave', () => { el.style.transform = ''; });
        });

        /* ==== Ripple Click ==== */
        $$('.link-item').forEach((btn) => {
        btn.addEventListener('click', (e) => {
            const span = document.createElement('span');
            const size = Math.max(btn.clientWidth, btn.clientHeight);
            const rect = btn.getBoundingClientRect();
            span.className = 'ripple';
            span.style.width = span.style.height = size + 'px';
            span.style.left = e.clientX - rect.left - size / 2 + 'px';
            span.style.top  = e.clientY - rect.top  - size / 2 + 'px';
            btn.appendChild(span);
            setTimeout(() => span.remove(), 600);
        });
        });

        /* ==== Live Clock ==== */
        const clock = document.createElement('div');
        clock.id = 'live-clock';
        clock.className = 'fixed top-4 left-4 px-3 py-1 bg-black/30 backdrop-blur-sm rounded text-sm';
        document.body.appendChild(clock);
        setInterval(() => {
        clock.textContent = new Date().toLocaleTimeString([], { hour:'2-digit', minute:'2-digit', second:'2-digit' });
        }, 1000);

        /* ==== Auto-Typing Tagline ==== */
        const taglines = [
        'Exploring LLMs, Agents & Generative AI',
        'IEEE-Published AI & MLOps Engineer',
        'BSc AI @ PAF-IAST'
        ];
        let idx = 0, pos = 0, forward = true;
        const tagEl = $('p:nth-of-type(2)');
        function type() {
        if (forward) {
            tagEl.textContent = taglines[idx].slice(0, ++pos);
            if (pos === taglines[idx].length) { forward = false; setTimeout(type, 1500); return; }
        } else {
            tagEl.textContent = taglines[idx].slice(0, --pos);
            if (pos === 0) { forward = true; idx = (idx + 1) % taglines.length; setTimeout(type, 300); return; }
        }
        setTimeout(type, 60);
        }
        type();

        /* ==== Copy Email ==== */
        window.copyEmail = () => {
        navigator.clipboard.writeText('noumankhanonai@gmail.com');
        const note = document.createElement('div');
        note.className = 'fixed top-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-xl animate-blur-up';
        note.textContent = '✔ Copied!';
        document.body.appendChild(note);
        setTimeout(() => note.remove(), 2000);
        };

        /* ==== Particle Network Background ==== */
        tsParticles.load("tsparticles", {
        fpsLimit: 60,
        particles: {
            color: { value: "#ef4444" },
            links: { color: "#ef4444", distance: 150, enable: true, opacity: 0.3, width: 1 },
            move: { enable: true, speed: 1, direction: "none", outModes: "out" },
            number: { value: 60 },
            size: { value: { min: 1, max: 3 } }
        },
        interactivity: {
            detectsOn: "canvas",
            events: {
            onHover: { enable: true, mode: "grab" },
            onClick: { enable: true, mode: "push" }
            }
        }
        });

        /* ==== Respect Reduced Motion ==== */
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        $$('*').forEach((el) => el.style.animationDuration = '0.001ms');
        }
    </script>
    <!-- 3-D Tilt -->
    <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.7.0/dist/vanilla-tilt.min.js"></script>

    <!-- Particle Network -->
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.9.3/tsparticles.bundle.min.js"></script>

    <script>
        (() => {
        const html = document.documentElement;
        const icon  = document.getElementById('themeIcon');
        const btn   = document.getElementById('themeToggle');

        const setTheme = (mode = 'auto') => {
            const root = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            const chosen = mode === 'auto' ? root : mode;
            html.classList.toggle('dark', chosen === 'dark');
            icon.className = chosen === 'dark' ? 'fas fa-sun text-lg' : 'fas fa-moon text-lg';
            if (mode !== 'auto') localStorage.setItem('theme', mode);
        };

        // initial
        setTheme(localStorage.getItem('theme') || 'auto');

        // click toggles light ↔ dark
        btn.addEventListener('click', () => {
            const current = html.classList.contains('dark') ? 'light' : 'dark';
            setTheme(current);
        });

        // auto-switch if system changes
        window.matchMedia('(prefers-color-scheme: dark)')
                .addEventListener('change', () => {
                if (!localStorage.getItem('theme')) setTheme('auto');
                });
        })();
    </script>

    <style>
        /* Dark overrides */
        html.dark {
            --bg: #000000;
            --glass: rgba(0, 0, 0, 0.45);
        }
        /* smooth color transition */
        html, body { transition: background 0.3s, color 0.3s; }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
    <script>
        const vCard = `BEGIN:VCARD
        VERSION:3.0
        FN:Muhammad Nouman Khan
        ORG:PAF-IAST
        TITLE:AI & MLOps Engineer | IEEE-Published
        EMAIL:noumankhanonai@gmail.com
        URL:https://iammuhammadnoumankhan.github.io/linktree/
        END:VCARD`;

        const qrModal = document.getElementById('qrModal');
        const qrCanvas = document.getElementById('qrCanvas');

        // generate & show
        document.getElementById('vcardBtn').addEventListener('click', (e) => {
        e.preventDefault();
        QRCode.toCanvas(qrCanvas, vCard, { width: 256, margin: 2 }, () => {
            qrModal.classList.remove('hidden');
            // auto-download
            const blob = new Blob([vCard], { type: 'text/vcard' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url; a.download = 'Muhammad_Nouman_Khan.vcf'; a.click();
            URL.revokeObjectURL(url);
        });
        });
    </script>

    <style>
        #qrCanvas { animation: rotateY 6s linear infinite; }
        @keyframes rotateY { from { transform: perspective(800px) rotateY(0deg); }
                            to   { transform: perspective(800px) rotateY(360deg); } }
    </style>

    <script>
        if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/linktree/sw.js');
        }
    </script>

    <script>
        (async () => {
        const user = 'iammuhammadnoumankhan';
        const res = await fetch(`https://api.github.com/users/${user}`);
        const data = await res.json();
        document.getElementById('gh-avatar').src = data.avatar_url;
        document.getElementById('gh-name').textContent = data.name || user;
        document.getElementById('gh-followers').textContent = `👥 ${data.followers} followers`;
        document.getElementById('gh-stars').textContent = `⭐ ${data.public_repos} repos`;
        // green contribution graph
        document.getElementById('gh-chart').src =
            `https://ghchart.rshah.org/${user}.png`;
        })();
    </script>

    <!-- 🖥️ RETRO TERMINAL -->
    <script>
        document.addEventListener('keydown', e => {
        if (e.key === '~') {
            document.body.classList.toggle('retro');
            // turn links into typed commands
            $$('.link-item').forEach(el=>el.dataset.text = el.textContent.trim());
        }
        });
    </script>

    <script>
        (() => {
        const doc = document;
        let retroActive = false;
        const promptDiv = document.createElement('div');
        promptDiv.style.cssText = 'position:fixed;bottom:14px;left:50%;transform:translateX(-50%);z-index:99999;background:rgba(0,0,0,0.85);border:1px solid rgba(255,255,255,0.06);color:#00ff00;padding:10px 12px;border-radius:8px;font-family:monospace;display:none;';
        const input = document.createElement('input');
        input.placeholder = "type command: open github | open email | help";
        input.style.cssText = 'background:transparent;border:none;outline:none;color:#00ff00;font-family:monospace;width:36ch';
        promptDiv.appendChild(input);
        document.body.appendChild(promptDiv);

        document.addEventListener('keydown', (e) => {
            if (e.key === '~') {
            retroActive = !document.body.classList.toggle('retro');
            // show prompt when retro activated
            if (document.body.classList.contains('retro')) {
                promptDiv.style.display = 'flex';
                setTimeout(()=>input.focus(), 80);
            } else {
                promptDiv.style.display = 'none';
            }
            }
        });

        input.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
            const cmd = input.value.trim().toLowerCase();
            input.value = '';
            handleCommand(cmd);
            } else if (e.key === 'Escape') {
            input.blur();
            }
        });

        function handleCommand(cmd) {
            if (!cmd) return;
            if (cmd.includes('open github') || cmd === 'github') {
            window.open('https://github.com/iammuhammadnoumankhan','_self');
            } else if (cmd.includes('open email') || cmd.includes('email')) {
            window.location = 'mailto:noumankhanonai@gmail.com';
            } else if (cmd === 'help') {
            alert('Commands: open github · open email · open youtube · copy email');
            } else if (cmd.includes('open youtube')||cmd==='youtube') {
            window.open('https://www.youtube.com/@NoumanKhanonAI','_self');
            } else if (cmd.includes('copy email')) {
            navigator.clipboard.writeText('noumankhanonai@gmail.com').then(()=>alert('Email copied'));
            } else {
            alert('Unknown command — try "help"');
            }
        }
        })();
    </script>


    <style>
        .retro{
        background:#000!important;
        color:#00ff00!important;
        font-family: 'Courier New', monospace!important;
        filter:contrast(1.2) brightness(1.1);
        }
        .retro .link-item{
        background:transparent;
        border:none;
        color:#00ff00;
        position:relative;
        overflow:hidden;
        }
        .retro .link-item::before{
        content:attr(data-text);
        width:0;
        white-space:nowrap;
        overflow:hidden;
        animation: type 1.5s steps(40,end) forwards;
        }
        @keyframes type{to{width:100%;}}
    </style>

    <!-- 🧪 MATRIX RAIN -->
    <script>
        const KONAMI = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','KeyB','KeyA'];
        let konamiIdx = 0; // Renamed idx to konamiIdx to avoid redeclaration
        document.addEventListener('keydown', e => {
        if (e.code === KONAMI[konamiIdx]) konamiIdx++; else konamiIdx = 0;
        if (konamiIdx === KONAMI.length) matrixRain();
        });

        function matrixRain(){
        const cvs = document.createElement('canvas');
        const ctx = cvs.getContext('2d');
        cvs.className = 'fixed inset-0 z-[9999] pointer-events-none';
        document.body.appendChild(cvs);
        const W = innerWidth, H = innerHeight;
        cvs.width=W; cvs.height=H;
        const cols = Math.floor(W/20);
        const drops = Array(cols).fill(1);
        const chars = '01'.split('');
        function draw(){
            ctx.fillStyle='rgba(0,0,0,0.05)'; ctx.fillRect(0,0,W,H);
            ctx.fillStyle='#0f0'; ctx.font='15px monospace';
            drops.forEach((y,i)=>{
            const text = chars[Math.floor(Math.random()*chars.length)];
            ctx.fillText(text, i*20, y*20);
            if (y*20 > H && Math.random() > 0.975) drops[i]=0;
            drops[i]++;
            });
        }
        const id = setInterval(draw,50);
        setTimeout(()=>{clearInterval(id); cvs.remove()},10000);
        }
    </script>

        <!-- 🎨 AUTO THEME FROM AVATAR -->
    <script src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"></script>
    <script>
        Vibrant.from('profile.jpeg').getPalette().then(p=>{
        const accent = p.Vibrant?.hex || '#ef4444';
        document.documentElement.style.setProperty('--red', accent);
        });
    </script>

    <script>
        window.addEventListener('wheel', e => {
        const layers = $$('.constellation-layer');
        layers.forEach((l,i)=>l.style.transform=`translateY(${-e.deltaY*(i+1)*0.2}px)`);
        });
    </script>

    <script>
        (() => {
        const img = document.getElementById('profileImg');
        if (!img) return;

        img.addEventListener('mousemove', e => {
            const rect = img.getBoundingClientRect();
            const cx = rect.left + rect.width/2;
            const cy = rect.top + rect.height/2;
            const dx = (e.clientX - cx) / (rect.width/2); // -1..1
            const dy = (e.clientY - cy) / (rect.height/2);
            const rx = -dy * 8; // rotateX
            const ry = dx * 10; // rotateY
            img.style.transform = `perspective(600px) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.02)`;
            img.classList.add('tilted');
        });
        img.addEventListener('mouseleave', () => {
            img.style.transform = '';
            img.classList.remove('tilted');
        });
        })();
    </script>

    <!-- Add Smooth page transitions -->
    <div id="page-overlay" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;opacity:0;transition:opacity .35s ease, transform .35s ease;z-index:9999;">
        <div style="width:120px;height:120px;border-radius:16px;background:linear-gradient(135deg, rgba(239,68,68,0.12), rgba(239,68,68,0.06));backdrop-filter: blur(6px);display:flex;align-items:center;justify-content:center;transform:scale(.98);">
            <div style="font-family:monospace;color:var(--red);font-weight:700;">Loading</div>
        </div>
    </div>

    <script>
        (() => {
        const overlay = document.getElementById('page-overlay');
        // Applies on anchor clicks that navigate away
        document.addEventListener('click', (e) => {
            const a = e.target.closest('a');
            if (!a) return;
            // ignore anchors that don't leave page or are # links or have target _blank
            if (a.getAttribute('href')?.startsWith('#') || a.target === '_blank') return;
            e.preventDefault();
            overlay.style.pointerEvents = 'auto';
            overlay.style.opacity = 1;
            overlay.firstElementChild.style.transform = 'scale(1) translateY(0)';
            // small delay for animation
            setTimeout(() => { window.location = a.href; }, 380);
        });
        })();
    </script>

    <!-- Type-to-search links -->
    <script>
        (() => {
        const cards = $$('.link-item');
        if (!cards.length) return;
        let buffer = '';
        let timeout;
        // show a small hint UI
        const hint = document.createElement('div');
        hint.style.cssText = 'position:fixed;bottom:14px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.6);color:white;padding:8px 12px;border-radius:999px;font-family:monospace;z-index:9999;opacity:0;transition:opacity .2s';
        document.body.appendChild(hint);

        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
            if (e.key.length === 1) {
            buffer += e.key.toLowerCase();
            hint.textContent = `Search: ${buffer}`;
            hint.style.opacity = 1;
            clearTimeout(timeout);
            timeout = setTimeout(() => { buffer = ''; hint.style.opacity = 0; clearHighlights(); }, 1200);
            // highlight first matching card
            const match = cards.find(c => c.textContent.toLowerCase().includes(buffer));
            clearHighlights();
            if (match) {
                match.style.outline = '2px solid rgba(239,68,68,0.85)';
                match.style.transform = 'translateY(-6px)';
                match.scrollIntoView({behavior:'smooth', block:'center'});
            }
            } else if (e.key === 'Escape') {
            buffer = '';
            hint.style.opacity = 0;
            clearHighlights();
            } else if (e.key === 'Enter' && buffer) {
            const match = cards.find(c => c.textContent.toLowerCase().includes(buffer));
            if (match) match.click();
            }
        });

        function clearHighlights() {
            cards.forEach(c => { c.style.outline=''; c.style.transform=''; });
        }
        })();
    </script>

    <!-- Keyboard shortcuts -->
    <script>
        (() => {
        const map = {
            'g': 'https://github.com/iammuhammadnoumankhan',
            'y': 'https://www.youtube.com/@NoumanKhanonAI',
            'l': 'https://www.linkedin.com/in/muhammad-nouman-khan-248530233/',
            'e': 'mailto:noumankhanonai@gmail.com'
        };

        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
            // simple single-key shortcuts, ignoring Shift/Ctrl combos
            const key = e.key.toLowerCase();
            if (map[key]) {
            // open in same tab; use _blank if you prefer new tab
            window.open(map[key], '_self');
            }
        });
        })();
    </script>


</body>
</html>